<html>
    <head>
        <script type="text/javascript" src="./src/template_parser.js"></script>
        <script type="text/javascript" src="./src/template_datakey.js"></script>
        <script type="text/javascript" src="./src/template.js"></script>
        <script type="text/javascript" src="./src/template_helper.js"></script>
    </head>

    <body>
        <template id="tpl">
            <div style="background-color: red; color: #ffffff;" class="container">
                <h4>[[ ("{{ User.title }}") ? "{{User.title}}" : 'Placeholder'; ]]</h4>
                <span>{{ User.name }}</span>
            </div>
        </template>

        <h1>hier</h1>
        <hr/>

        <div class="ctn">
            dsfasd
        </div>
    </body>

    <script type="text/javascript">
        var template = new TemplateHelper({
            template: '#tpl',
            container: '.ctn',
            urls: {
                index: 'http://lempserver/projects/js_template_helper/data.php'
            },
            data_guid_path: 'User.Project.id'
        });

        fetch('http://lempserver/projects/js_template_helper/data.php')
            .then(response => response.json())
            .then((parsable_data) => {
                template.render(parsable_data);
            });

function loadone() {
    fetch('http://lempserver/projects/js_template_helper/data.php?id=1')
            .then(response => response.json())
            .then((parsable_data) => {
                template.render([parsable_data], false);
            });
}

function update() {
    fetch('http://lempserver/projects/js_template_helper/data.php?id=1')
            .then(response => response.json())
            .then((parsable_data) => {
                template.replace(2, parsable_data);
            });
}
    </script>
</html>
